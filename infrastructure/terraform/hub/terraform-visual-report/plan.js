window.TF_PLAN = {"format_version":"1.1","terraform_version":"1.3.7","variables":{"firewall_subnet_address_space":{"value":"10.0.3.0/26"},"hub_network_address_space":{"value":"10.0.0.0/22"},"location":{"value":"westeurope"},"private_dns_zone_name":{"value":"dev.thinkex.net"},"vpn_gateway_subnet_address_space":{"value":"10.0.1.0/26"}},"planned_values":{"root_module":{"resources":[{"address":"azurerm_firewall.hub_firewall","mode":"managed","type":"azurerm_firewall","name":"hub_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"dns_servers":null,"ip_configuration":[{"name":"fw-pip","public_ip_address_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","subnet_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet"}],"location":"westeurope","management_ip_configuration":[],"name":"afw-hub","private_ip_ranges":null,"resource_group_name":"rg-hub","sku_name":"AZFW_VNet","sku_tier":"Standard","tags":null,"timeouts":null,"virtual_hub":[],"zones":null},"sensitive_values":{"ip_configuration":[{}],"management_ip_configuration":[],"virtual_hub":[]}},{"address":"azurerm_firewall_policy.hub_fw_policy","mode":"managed","type":"azurerm_firewall_policy","name":"hub_fw_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"auto_learn_private_ranges_enabled":null,"base_policy_id":null,"dns":[],"explicit_proxy":[],"identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":null,"resource_group_name":"rg-hub","sku":"Standard","sql_redirect_allowed":null,"tags":null,"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"sensitive_values":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"identity":[],"insights":[],"intrusion_detection":[],"rule_collection_groups":[],"threat_intelligence_allowlist":[],"tls_certificate":[]}},{"address":"azurerm_firewall_policy_rule_collection_group.standard_rules","mode":"managed","type":"azurerm_firewall_policy_rule_collection_group","name":"standard_rules","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_rule_collection":[],"name":"example-fwpolicy-rcg","nat_rule_collection":[],"network_rule_collection":[{"action":"Deny","name":"network_rule_collection1","priority":400,"rule":[{"description":null,"destination_addresses":["*"],"destination_fqdns":null,"destination_ip_groups":null,"destination_ports":["53"],"name":"DNS","protocols":["UDP"],"source_addresses":["*"],"source_ip_groups":null}]}],"priority":500,"timeouts":null},"sensitive_values":{"application_rule_collection":[],"nat_rule_collection":[],"network_rule_collection":[{"rule":[{"destination_addresses":[false],"destination_ports":[false],"protocols":[false],"source_addresses":[false]}]}]}},{"address":"azurerm_private_dns_zone.dev_thinkexception","mode":"managed","type":"azurerm_private_dns_zone","name":"dev_thinkexception","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"dev.thinkex.net","number_of_record_sets":1,"resource_group_name":"rg-hub","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"dev.thinkex.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":null},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{}}},{"address":"azurerm_private_dns_zone_virtual_network_link.hub_vnet_dns","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"hub_vnet_dns","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net/virtualNetworkLinks/dns-link-hub","name":"dns-link-hub","private_dns_zone_name":"dev.thinkex.net","registration_enabled":false,"resource_group_name":"rg-hub","tags":{},"timeouts":null,"virtual_network_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub"},"sensitive_values":{"tags":{}}},{"address":"azurerm_public_ip.hub_firewall_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_firewall_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","idle_timeout_in_minutes":4,"ip_address":"51.137.206.27","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-firewall","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"sensitive_values":{"ip_tags":{},"tags":{},"zones":[]}},{"address":"azurerm_public_ip.hub_vpn_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_vpn_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"sensitive_values":{"ip_tags":{},"tags":{},"zones":[]}},{"address":"azurerm_resource_group.hub","mode":"managed","type":"azurerm_resource_group","name":"hub","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub","location":"westeurope","managed_by":"","name":"rg-hub","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_route.vpn_to_firewall","mode":"managed","type":"azurerm_route","name":"vpn_to_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub/routes/vpn-to-firewall","name":"vpn-to-firewall","next_hop_type":"VirtualAppliance","resource_group_name":"rg-hub","route_table_name":"rt-hub","timeouts":null},"sensitive_values":{}},{"address":"azurerm_route_table.hub_routes","mode":"managed","type":"azurerm_route_table","name":"hub_routes","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"disable_bgp_route_propagation":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub","location":"westeurope","name":"rt-hub","resource_group_name":"rg-hub","route":[{"address_prefix":"10.0.1.0/26","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance"}],"subnets":[],"tags":{},"timeouts":null},"sensitive_values":{"route":[{}],"subnets":[],"tags":{}}},{"address":"azurerm_subnet.firewall_subnet","mode":"managed","type":"azurerm_subnet","name":"firewall_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.3.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"sensitive_values":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]}},{"address":"azurerm_subnet.gateway_subnet","mode":"managed","type":"azurerm_subnet","name":"gateway_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.1.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"sensitive_values":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]}},{"address":"azurerm_virtual_network.hub_network","mode":"managed","type":"azurerm_virtual_network","name":"hub_network","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/22"],"bgp_community":"","ddos_protection_plan":[],"dns_servers":[],"edge_zone":"","encryption":[],"flow_timeout_in_minutes":0,"guid":"9bffc745-e726-4677-9cc8-30412a829f3f","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub","location":"westeurope","name":"vnet-hub","resource_group_name":"rg-hub","subnet":[{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","security_group":""},{"address_prefix":"10.0.3.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","security_group":""}],"tags":{},"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[{},{}],"tags":{}}},{"address":"azurerm_virtual_network_gateway.hub_vpn_gateway","mode":"managed","type":"azurerm_virtual_network_gateway","name":"hub_vpn_gateway","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_route":[],"default_local_network_gateway_id":null,"edge_zone":null,"generation":"Generation2","ip_configuration":[{"name":"ipconfig-hub","private_ip_address_allocation":"Dynamic","public_ip_address_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","subnet_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet"}],"location":"westeurope","name":"vgw-hub","private_ip_address_enabled":null,"resource_group_name":"rg-hub","sku":"VpnGw2","tags":null,"timeouts":null,"type":"Vpn","vpn_client_configuration":[],"vpn_type":"RouteBased"},"sensitive_values":{"bgp_settings":[],"custom_route":[],"ip_configuration":[{}],"vpn_client_configuration":[]}}]}},"resource_drift":[{"address":"azurerm_firewall.hub_firewall","mode":"managed","type":"azurerm_firewall","name":"hub_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete"],"before":{"dns_servers":[],"firewall_policy_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/firewallPolicies/fw-policy-hub","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/azureFirewalls/afw-hub","ip_configuration":[{"name":"fw-pip","private_ip_address":"10.0.3.4","public_ip_address_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","subnet_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet"}],"location":"westeurope","management_ip_configuration":[],"name":"afw-hub","private_ip_ranges":[],"resource_group_name":"rg-hub","sku_name":"AZFW_VNet","sku_tier":"Standard","tags":{},"threat_intel_mode":"Alert","timeouts":null,"virtual_hub":[],"zones":[]},"after":null,"after_unknown":{},"before_sensitive":{"dns_servers":[],"ip_configuration":[{}],"management_ip_configuration":[],"private_ip_ranges":[],"tags":{},"virtual_hub":[],"zones":[]},"after_sensitive":false}},{"address":"azurerm_firewall_policy.hub_fw_policy","mode":"managed","type":"azurerm_firewall_policy","name":"hub_fw_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["update"],"before":{"auto_learn_private_ranges_enabled":false,"base_policy_id":"","child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":["/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/azureFirewalls/afw-hub"],"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/firewallPolicies/fw-policy-hub","identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":[],"resource_group_name":"rg-hub","rule_collection_groups":[],"sku":"Basic","sql_redirect_allowed":null,"tags":{},"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"after":{"auto_learn_private_ranges_enabled":false,"base_policy_id":"","child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/firewallPolicies/fw-policy-hub","identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":[],"resource_group_name":"rg-hub","rule_collection_groups":[],"sku":"Basic","sql_redirect_allowed":null,"tags":{},"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"after_unknown":{},"before_sensitive":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[false],"identity":[],"insights":[],"intrusion_detection":[],"private_ip_ranges":[],"rule_collection_groups":[],"tags":{},"threat_intelligence_allowlist":[],"tls_certificate":[]},"after_sensitive":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"identity":[],"insights":[],"intrusion_detection":[],"private_ip_ranges":[],"rule_collection_groups":[],"tags":{},"threat_intelligence_allowlist":[],"tls_certificate":[]}}},{"address":"azurerm_public_ip.hub_vpn_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_vpn_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["update"],"before":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":null,"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after_unknown":{},"before_sensitive":{},"after_sensitive":{"ip_tags":{},"tags":{},"zones":[]}}}],"resource_changes":[{"address":"azurerm_firewall.hub_firewall","mode":"managed","type":"azurerm_firewall","name":"hub_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"dns_servers":null,"ip_configuration":[{"name":"fw-pip","public_ip_address_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","subnet_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet"}],"location":"westeurope","management_ip_configuration":[],"name":"afw-hub","private_ip_ranges":null,"resource_group_name":"rg-hub","sku_name":"AZFW_VNet","sku_tier":"Standard","tags":null,"timeouts":null,"virtual_hub":[],"zones":null},"after_unknown":{"firewall_policy_id":true,"id":true,"ip_configuration":[{"private_ip_address":true}],"management_ip_configuration":[],"threat_intel_mode":true,"virtual_hub":[]},"before_sensitive":false,"after_sensitive":{"ip_configuration":[{}],"management_ip_configuration":[],"virtual_hub":[]}}},{"address":"azurerm_firewall_policy.hub_fw_policy","mode":"managed","type":"azurerm_firewall_policy","name":"hub_fw_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["delete","create"],"before":{"auto_learn_private_ranges_enabled":false,"base_policy_id":"","child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/firewallPolicies/fw-policy-hub","identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":[],"resource_group_name":"rg-hub","rule_collection_groups":[],"sku":"Basic","sql_redirect_allowed":null,"tags":{},"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"after":{"auto_learn_private_ranges_enabled":null,"base_policy_id":null,"dns":[],"explicit_proxy":[],"identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":null,"resource_group_name":"rg-hub","sku":"Standard","sql_redirect_allowed":null,"tags":null,"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"after_unknown":{"child_policies":true,"dns":[],"explicit_proxy":[],"firewalls":true,"id":true,"identity":[],"insights":[],"intrusion_detection":[],"rule_collection_groups":true,"threat_intelligence_allowlist":[],"tls_certificate":[]},"before_sensitive":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"identity":[],"insights":[],"intrusion_detection":[],"private_ip_ranges":[],"rule_collection_groups":[],"tags":{},"threat_intelligence_allowlist":[],"tls_certificate":[]},"after_sensitive":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"identity":[],"insights":[],"intrusion_detection":[],"rule_collection_groups":[],"threat_intelligence_allowlist":[],"tls_certificate":[]},"replace_paths":[["sku"]]},"action_reason":"replace_because_cannot_update"},{"address":"azurerm_firewall_policy_rule_collection_group.standard_rules","mode":"managed","type":"azurerm_firewall_policy_rule_collection_group","name":"standard_rules","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"application_rule_collection":[],"name":"example-fwpolicy-rcg","nat_rule_collection":[],"network_rule_collection":[{"action":"Deny","name":"network_rule_collection1","priority":400,"rule":[{"description":null,"destination_addresses":["*"],"destination_fqdns":null,"destination_ip_groups":null,"destination_ports":["53"],"name":"DNS","protocols":["UDP"],"source_addresses":["*"],"source_ip_groups":null}]}],"priority":500,"timeouts":null},"after_unknown":{"application_rule_collection":[],"firewall_policy_id":true,"id":true,"nat_rule_collection":[],"network_rule_collection":[{"rule":[{"destination_addresses":[false],"destination_ports":[false],"protocols":[false],"source_addresses":[false]}]}]},"before_sensitive":false,"after_sensitive":{"application_rule_collection":[],"nat_rule_collection":[],"network_rule_collection":[{"rule":[{"destination_addresses":[false],"destination_ports":[false],"protocols":[false],"source_addresses":[false]}]}]}}},{"address":"azurerm_private_dns_zone.dev_thinkexception","mode":"managed","type":"azurerm_private_dns_zone","name":"dev_thinkexception","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"dev.thinkex.net","number_of_record_sets":1,"resource_group_name":"rg-hub","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"dev.thinkex.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":null},"after":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"dev.thinkex.net","number_of_record_sets":1,"resource_group_name":"rg-hub","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"dev.thinkex.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"soa_record":[{"tags":{}}],"tags":{}},"after_sensitive":{"soa_record":[{"tags":{}}],"tags":{}}}},{"address":"azurerm_private_dns_zone_virtual_network_link.hub_vnet_dns","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"hub_vnet_dns","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net/virtualNetworkLinks/dns-link-hub","name":"dns-link-hub","private_dns_zone_name":"dev.thinkex.net","registration_enabled":false,"resource_group_name":"rg-hub","tags":{},"timeouts":null,"virtual_network_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub"},"after":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net/virtualNetworkLinks/dns-link-hub","name":"dns-link-hub","private_dns_zone_name":"dev.thinkex.net","registration_enabled":false,"resource_group_name":"rg-hub","tags":{},"timeouts":null,"virtual_network_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub"},"after_unknown":{},"before_sensitive":{"tags":{}},"after_sensitive":{"tags":{}}}},{"address":"azurerm_public_ip.hub_firewall_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_firewall_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","idle_timeout_in_minutes":4,"ip_address":"51.137.206.27","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-firewall","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","idle_timeout_in_minutes":4,"ip_address":"51.137.206.27","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-firewall","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after_unknown":{},"before_sensitive":{"ip_tags":{},"tags":{},"zones":[]},"after_sensitive":{"ip_tags":{},"tags":{},"zones":[]}}},{"address":"azurerm_public_ip.hub_vpn_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_vpn_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"after_unknown":{},"before_sensitive":{"ip_tags":{},"tags":{},"zones":[]},"after_sensitive":{"ip_tags":{},"tags":{},"zones":[]}}},{"address":"azurerm_resource_group.hub","mode":"managed","type":"azurerm_resource_group","name":"hub","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub","location":"westeurope","managed_by":"","name":"rg-hub","tags":{},"timeouts":null},"after":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub","location":"westeurope","managed_by":"","name":"rg-hub","tags":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{}},"after_sensitive":{"tags":{}}}},{"address":"azurerm_route.vpn_to_firewall","mode":"managed","type":"azurerm_route","name":"vpn_to_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["update"],"before":{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub/routes/vpn-to-firewall","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance","resource_group_name":"rg-hub","route_table_name":"rt-hub","timeouts":null},"after":{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub/routes/vpn-to-firewall","name":"vpn-to-firewall","next_hop_type":"VirtualAppliance","resource_group_name":"rg-hub","route_table_name":"rt-hub","timeouts":null},"after_unknown":{"next_hop_in_ip_address":true},"before_sensitive":{},"after_sensitive":{}}},{"address":"azurerm_route_table.hub_routes","mode":"managed","type":"azurerm_route_table","name":"hub_routes","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"disable_bgp_route_propagation":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub","location":"westeurope","name":"rt-hub","resource_group_name":"rg-hub","route":[{"address_prefix":"10.0.1.0/26","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance"}],"subnets":[],"tags":{},"timeouts":null},"after":{"disable_bgp_route_propagation":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub","location":"westeurope","name":"rt-hub","resource_group_name":"rg-hub","route":[{"address_prefix":"10.0.1.0/26","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance"}],"subnets":[],"tags":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"route":[{}],"subnets":[],"tags":{}},"after_sensitive":{"route":[{}],"subnets":[],"tags":{}}}},{"address":"azurerm_subnet.firewall_subnet","mode":"managed","type":"azurerm_subnet","name":"firewall_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"address_prefixes":["10.0.3.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"after":{"address_prefixes":["10.0.3.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"after_unknown":{},"before_sensitive":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]},"after_sensitive":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]}}},{"address":"azurerm_subnet.gateway_subnet","mode":"managed","type":"azurerm_subnet","name":"gateway_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"address_prefixes":["10.0.1.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"after":{"address_prefixes":["10.0.1.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"after_unknown":{},"before_sensitive":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]},"after_sensitive":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]}}},{"address":"azurerm_virtual_network.hub_network","mode":"managed","type":"azurerm_virtual_network","name":"hub_network","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["no-op"],"before":{"address_space":["10.0.0.0/22"],"bgp_community":"","ddos_protection_plan":[],"dns_servers":[],"edge_zone":"","encryption":[],"flow_timeout_in_minutes":0,"guid":"9bffc745-e726-4677-9cc8-30412a829f3f","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub","location":"westeurope","name":"vnet-hub","resource_group_name":"rg-hub","subnet":[{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","security_group":""},{"address_prefix":"10.0.3.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","security_group":""}],"tags":{},"timeouts":null},"after":{"address_space":["10.0.0.0/22"],"bgp_community":"","ddos_protection_plan":[],"dns_servers":[],"edge_zone":"","encryption":[],"flow_timeout_in_minutes":0,"guid":"9bffc745-e726-4677-9cc8-30412a829f3f","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub","location":"westeurope","name":"vnet-hub","resource_group_name":"rg-hub","subnet":[{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","security_group":""},{"address_prefix":"10.0.3.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","security_group":""}],"tags":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[{},{}],"tags":{}},"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[{},{}],"tags":{}}}},{"address":"azurerm_virtual_network_gateway.hub_vpn_gateway","mode":"managed","type":"azurerm_virtual_network_gateway","name":"hub_vpn_gateway","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"custom_route":[],"default_local_network_gateway_id":null,"edge_zone":null,"generation":"Generation2","ip_configuration":[{"name":"ipconfig-hub","private_ip_address_allocation":"Dynamic","public_ip_address_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","subnet_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet"}],"location":"westeurope","name":"vgw-hub","private_ip_address_enabled":null,"resource_group_name":"rg-hub","sku":"VpnGw2","tags":null,"timeouts":null,"type":"Vpn","vpn_client_configuration":[],"vpn_type":"RouteBased"},"after_unknown":{"active_active":true,"bgp_settings":true,"custom_route":[],"enable_bgp":true,"id":true,"ip_configuration":[{}],"vpn_client_configuration":[]},"before_sensitive":false,"after_sensitive":{"bgp_settings":[],"custom_route":[],"ip_configuration":[{}],"vpn_client_configuration":[]}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.3.7","values":{"root_module":{"resources":[{"address":"azurerm_firewall_policy.hub_fw_policy","mode":"managed","type":"azurerm_firewall_policy","name":"hub_fw_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"auto_learn_private_ranges_enabled":false,"base_policy_id":"","child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/firewallPolicies/fw-policy-hub","identity":[],"insights":[],"intrusion_detection":[],"location":"westeurope","name":"fw-policy-hub","private_ip_ranges":[],"resource_group_name":"rg-hub","rule_collection_groups":[],"sku":"Basic","sql_redirect_allowed":null,"tags":{},"threat_intelligence_allowlist":[],"threat_intelligence_mode":"Alert","timeouts":null,"tls_certificate":[]},"sensitive_values":{"child_policies":[],"dns":[],"explicit_proxy":[],"firewalls":[],"identity":[],"insights":[],"intrusion_detection":[],"private_ip_ranges":[],"rule_collection_groups":[],"tags":{},"threat_intelligence_allowlist":[],"tls_certificate":[]},"depends_on":["azurerm_resource_group.hub"]},{"address":"azurerm_private_dns_zone.dev_thinkexception","mode":"managed","type":"azurerm_private_dns_zone","name":"dev_thinkexception","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"dev.thinkex.net","number_of_record_sets":1,"resource_group_name":"rg-hub","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"dev.thinkex.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":null},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{}},"depends_on":["azurerm_resource_group.hub"]},{"address":"azurerm_private_dns_zone_virtual_network_link.hub_vnet_dns","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"hub_vnet_dns","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/privateDnsZones/dev.thinkex.net/virtualNetworkLinks/dns-link-hub","name":"dns-link-hub","private_dns_zone_name":"dev.thinkex.net","registration_enabled":false,"resource_group_name":"rg-hub","tags":{},"timeouts":null,"virtual_network_id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub"},"sensitive_values":{"tags":{}},"depends_on":["azurerm_resource_group.hub","azurerm_virtual_network.hub_network"]},{"address":"azurerm_public_ip.hub_firewall_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_firewall_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-firewall","idle_timeout_in_minutes":4,"ip_address":"51.137.206.27","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-firewall","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"sensitive_values":{"ip_tags":{},"tags":{},"zones":[]},"depends_on":["azurerm_resource_group.hub"]},{"address":"azurerm_public_ip.hub_vpn_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_vpn_pip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":"","fqdn":null,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/publicIPAddresses/pip-vpn","idle_timeout_in_minutes":4,"ip_address":"","ip_tags":{},"ip_version":"IPv4","location":"westeurope","name":"pip-vpn","public_ip_prefix_id":null,"resource_group_name":"rg-hub","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{},"timeouts":null,"zones":[]},"sensitive_values":{"ip_tags":{},"tags":{},"zones":[]},"depends_on":["azurerm_resource_group.hub"]},{"address":"azurerm_resource_group.hub","mode":"managed","type":"azurerm_resource_group","name":"hub","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub","location":"westeurope","managed_by":"","name":"rg-hub","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_route.vpn_to_firewall","mode":"managed","type":"azurerm_route","name":"vpn_to_firewall","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub/routes/vpn-to-firewall","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance","resource_group_name":"rg-hub","route_table_name":"rt-hub","timeouts":null},"sensitive_values":{},"depends_on":["azurerm_firewall.hub_firewall","azurerm_firewall_policy.hub_fw_policy","azurerm_public_ip.hub_firewall_pip","azurerm_resource_group.hub","azurerm_route_table.hub_routes","azurerm_subnet.firewall_subnet","azurerm_subnet.gateway_subnet","azurerm_virtual_network.hub_network"]},{"address":"azurerm_route_table.hub_routes","mode":"managed","type":"azurerm_route_table","name":"hub_routes","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"disable_bgp_route_propagation":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/routeTables/rt-hub","location":"westeurope","name":"rt-hub","resource_group_name":"rg-hub","route":[{"address_prefix":"10.0.1.0/26","name":"vpn-to-firewall","next_hop_in_ip_address":"10.0.3.4","next_hop_type":"VirtualAppliance"}],"subnets":[],"tags":{},"timeouts":null},"sensitive_values":{"route":[{}],"subnets":[],"tags":{}},"depends_on":["azurerm_resource_group.hub"]},{"address":"azurerm_subnet.firewall_subnet","mode":"managed","type":"azurerm_subnet","name":"firewall_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.3.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"sensitive_values":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]},"depends_on":["azurerm_resource_group.hub","azurerm_virtual_network.hub_network"]},{"address":"azurerm_subnet.gateway_subnet","mode":"managed","type":"azurerm_subnet","name":"gateway_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.1.0/26"],"delegation":[],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true,"resource_group_name":"rg-hub","service_endpoint_policy_ids":[],"service_endpoints":[],"timeouts":null,"virtual_network_name":"vnet-hub"},"sensitive_values":{"address_prefixes":[false],"delegation":[],"service_endpoint_policy_ids":[],"service_endpoints":[]},"depends_on":["azurerm_resource_group.hub","azurerm_virtual_network.hub_network"]},{"address":"azurerm_virtual_network.hub_network","mode":"managed","type":"azurerm_virtual_network","name":"hub_network","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/22"],"bgp_community":"","ddos_protection_plan":[],"dns_servers":[],"edge_zone":"","encryption":[],"flow_timeout_in_minutes":0,"guid":"9bffc745-e726-4677-9cc8-30412a829f3f","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub","location":"westeurope","name":"vnet-hub","resource_group_name":"rg-hub","subnet":[{"address_prefix":"10.0.1.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/GatewaySubnet","name":"GatewaySubnet","security_group":""},{"address_prefix":"10.0.3.0/26","id":"/subscriptions/09c6ad5e-028b-47ab-9c88-b6d6ce497a89/resourceGroups/rg-hub/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet","name":"AzureFirewallSubnet","security_group":""}],"tags":{},"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[{},{}],"tags":{}},"depends_on":["azurerm_resource_group.hub"]}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","version_constraint":"\u003e= 3.0.0","expressions":{"features":[{}]}}},"root_module":{"resources":[{"address":"azurerm_firewall.hub_firewall","mode":"managed","type":"azurerm_firewall","name":"hub_firewall","provider_config_key":"azurerm","expressions":{"firewall_policy_id":{"references":["azurerm_firewall_policy.hub_fw_policy.id","azurerm_firewall_policy.hub_fw_policy"]},"ip_configuration":[{"name":{"constant_value":"fw-pip"},"public_ip_address_id":{"references":["azurerm_public_ip.hub_firewall_pip.id","azurerm_public_ip.hub_firewall_pip"]},"subnet_id":{"references":["azurerm_subnet.firewall_subnet.id","azurerm_subnet.firewall_subnet"]}}],"location":{"references":["var.location"]},"name":{"constant_value":"afw-hub"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"sku_name":{"constant_value":"AZFW_VNet"},"sku_tier":{"constant_value":"Standard"}},"schema_version":0},{"address":"azurerm_firewall_policy.hub_fw_policy","mode":"managed","type":"azurerm_firewall_policy","name":"hub_fw_policy","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"constant_value":"fw-policy-hub"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"sku":{"constant_value":"Standard"}},"schema_version":0},{"address":"azurerm_firewall_policy_rule_collection_group.standard_rules","mode":"managed","type":"azurerm_firewall_policy_rule_collection_group","name":"standard_rules","provider_config_key":"azurerm","expressions":{"firewall_policy_id":{"references":["azurerm_firewall_policy.hub_fw_policy.id","azurerm_firewall_policy.hub_fw_policy"]},"name":{"constant_value":"example-fwpolicy-rcg"},"network_rule_collection":[{"action":{"constant_value":"Deny"},"name":{"constant_value":"network_rule_collection1"},"priority":{"constant_value":400},"rule":[{"destination_addresses":{"constant_value":["*"]},"destination_ports":{"constant_value":["53"]},"name":{"constant_value":"DNS"},"protocols":{"constant_value":["UDP"]},"source_addresses":{"constant_value":["*"]}}]}],"priority":{"constant_value":500}},"schema_version":0},{"address":"azurerm_private_dns_zone.dev_thinkexception","mode":"managed","type":"azurerm_private_dns_zone","name":"dev_thinkexception","provider_config_key":"azurerm","expressions":{"name":{"references":["var.private_dns_zone_name"]},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]}},"schema_version":0},{"address":"azurerm_private_dns_zone_virtual_network_link.hub_vnet_dns","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"hub_vnet_dns","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"dns-link-hub"},"private_dns_zone_name":{"references":["var.private_dns_zone_name"]},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"virtual_network_id":{"references":["azurerm_virtual_network.hub_network.id","azurerm_virtual_network.hub_network"]}},"schema_version":0},{"address":"azurerm_public_ip.hub_firewall_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_firewall_pip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["var.location"]},"name":{"constant_value":"pip-firewall"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"sku":{"constant_value":"Standard"}},"schema_version":0},{"address":"azurerm_public_ip.hub_vpn_pip","mode":"managed","type":"azurerm_public_ip","name":"hub_vpn_pip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Dynamic"},"location":{"references":["var.location"]},"name":{"constant_value":"pip-vpn"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]}},"schema_version":0},{"address":"azurerm_resource_group.hub","mode":"managed","type":"azurerm_resource_group","name":"hub","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"westeurope"},"name":{"constant_value":"rg-hub"}},"schema_version":0},{"address":"azurerm_route.vpn_to_firewall","mode":"managed","type":"azurerm_route","name":"vpn_to_firewall","provider_config_key":"azurerm","expressions":{"address_prefix":{"references":["azurerm_subnet.gateway_subnet.address_prefixes[0]","azurerm_subnet.gateway_subnet.address_prefixes","azurerm_subnet.gateway_subnet"]},"name":{"constant_value":"vpn-to-firewall"},"next_hop_in_ip_address":{"references":["azurerm_firewall.hub_firewall.ip_configuration[0].private_ip_address","azurerm_firewall.hub_firewall.ip_configuration[0]","azurerm_firewall.hub_firewall.ip_configuration","azurerm_firewall.hub_firewall"]},"next_hop_type":{"constant_value":"VirtualAppliance"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"route_table_name":{"references":["azurerm_route_table.hub_routes.name","azurerm_route_table.hub_routes"]}},"schema_version":0},{"address":"azurerm_route_table.hub_routes","mode":"managed","type":"azurerm_route_table","name":"hub_routes","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"constant_value":"rt-hub"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]}},"schema_version":0},{"address":"azurerm_subnet.firewall_subnet","mode":"managed","type":"azurerm_subnet","name":"firewall_subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.firewall_subnet_address_space"]},"name":{"constant_value":"AzureFirewallSubnet"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"virtual_network_name":{"references":["azurerm_virtual_network.hub_network.name","azurerm_virtual_network.hub_network"]}},"schema_version":0},{"address":"azurerm_subnet.gateway_subnet","mode":"managed","type":"azurerm_subnet","name":"gateway_subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.vpn_gateway_subnet_address_space"]},"name":{"constant_value":"GatewaySubnet"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"virtual_network_name":{"references":["azurerm_virtual_network.hub_network.name","azurerm_virtual_network.hub_network"]}},"schema_version":0},{"address":"azurerm_virtual_network.hub_network","mode":"managed","type":"azurerm_virtual_network","name":"hub_network","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.hub_network_address_space"]},"location":{"references":["var.location"]},"name":{"constant_value":"vnet-hub"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]}},"schema_version":0},{"address":"azurerm_virtual_network_gateway.hub_vpn_gateway","mode":"managed","type":"azurerm_virtual_network_gateway","name":"hub_vpn_gateway","provider_config_key":"azurerm","expressions":{"generation":{"constant_value":"Generation2"},"ip_configuration":[{"name":{"constant_value":"ipconfig-hub"},"private_ip_address_allocation":{"constant_value":"Dynamic"},"public_ip_address_id":{"references":["azurerm_public_ip.hub_vpn_pip.id","azurerm_public_ip.hub_vpn_pip"]},"subnet_id":{"references":["azurerm_subnet.gateway_subnet.id","azurerm_subnet.gateway_subnet"]}}],"location":{"references":["var.location"]},"name":{"constant_value":"vgw-hub"},"resource_group_name":{"references":["azurerm_resource_group.hub.name","azurerm_resource_group.hub"]},"sku":{"constant_value":"VpnGw2"},"type":{"constant_value":"Vpn"},"vpn_type":{"constant_value":"RouteBased"}},"schema_version":0}],"variables":{"firewall_subnet_address_space":{},"hub_network_address_space":{},"location":{"default":"westeurope"},"private_dns_zone_name":{"default":"dev.thinkex.net"},"vpn_gateway_subnet_address_space":{}}}},"relevant_attributes":[{"resource":"azurerm_resource_group.hub","attribute":["name"]},{"resource":"azurerm_firewall_policy.hub_fw_policy","attribute":["id"]},{"resource":"azurerm_route_table.hub_routes","attribute":["name"]},{"resource":"azurerm_public_ip.hub_vpn_pip","attribute":["id"]},{"resource":"azurerm_subnet.gateway_subnet","attribute":["id"]},{"resource":"azurerm_public_ip.hub_firewall_pip","attribute":["id"]},{"resource":"azurerm_subnet.firewall_subnet","attribute":["id"]},{"resource":"azurerm_subnet.gateway_subnet","attribute":["address_prefixes",0]},{"resource":"azurerm_firewall.hub_firewall","attribute":["ip_configuration",0,"private_ip_address"]}]}
